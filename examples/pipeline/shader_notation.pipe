// For simplicity, we start with the vertex shader
// The only rules are that we must declare a varying (Before) assigning to it
//  and that we require assignment to each varying before the program ends (Eventually)

// metaprogramming stuff

require declaration Before assignment
require assignment Eventually

// declarations and assignments

declaration varying_var = { varying %typ $1; }
assignment varying_var = { [varying_var] = %expr; }